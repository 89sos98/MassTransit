<?xml version="1.0" encoding="utf-8" ?>
<configuration>

  <components>
    <component id="InMemorySubscriptionRepository"
      service="MassTransit.ServiceBus.Subscriptions.ISubscriptionRepository, MassTransit.ServiceBus"
               type="MassTransit.ServiceBus.Subscriptions.InMemorySubscriptionRepository, MassTransit.ServiceBus"/>

    <component id="SubscriptionServiceCache"
       service="MassTransit.ServiceBus.Subscriptions.ISubscriptionCache, MassTransit.ServiceBus"
                type="MassTransit.ServiceBus.Subscriptions.LocalSubscriptionCache, MassTransit.ServiceBus"/>

    <component id="SubscriptionService"
      type="MassTransit.ServiceBus.Subscriptions.SubscriptionService, MassTransit.ServiceBus">
      <parameters>
        <bus>${subscriptions}</bus>
        <subscriptionCache>${SubscriptionServiceCache}</subscriptionCache>
      </parameters>
    </component>
  </components>
  <facilities>
    <facility id="masstransit">

      <bus id="subscriptions"
				 endpoint="msmq://localhost/mt_pubsub">
        <subscriptionCache mode="local" name="SubscriptionServiceCache" />
      </bus>
      <transports>
        <transport>MassTransit.ServiceBus.MSMQ.MsmqEndpoint, MassTransit.ServiceBus.MSMQ</transport>
      </transports>
    </facility>
  </facilities>
</configuration>
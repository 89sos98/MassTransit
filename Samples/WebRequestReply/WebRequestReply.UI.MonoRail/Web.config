<?xml version="1.0"?>

<configuration>

    <configSections>
      <section name="monorail"
               type="Castle.MonoRail.Framework.Configuration.MonoRailSectionHandler, Castle.MonoRail.Framework" />
      <section name="castle"
               type="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor" />
    </configSections>

    <monorail useWindsorIntegration="true">
      <viewEngine
          viewPathRoot="Views"
          customEngine="Castle.MonoRail.Views.Brail.BooViewEngine, Castle.MonoRail.Views.Brail" />
    </monorail>

    <castle>
		<facilities>

			<facility id="masstransit">

				<bus id="main"
					 endpoint="msmq://localhost/test_servicebus">
					<subscriptionCache mode="local" />
				</bus>

				<transports>
					<transport>MassTransit.ServiceBus.MSMQ.MsmqEndpoint, MassTransit.ServiceBus.MSMQ</transport>
				</transports>
			</facility>

		</facilities>


    </castle>

    <appSettings/>
    <connectionStrings/>
  
    <system.web>
        <compilation debug="false" />
        <authentication mode="Windows" />
      <httpModules>
        <!--<add name="monorail" type="Castle.MonoRail.Framework.EngineContextModule, Castle.MonoRail.Framework" />-->
      </httpModules>
      <httpHandlers>
        <add verb="*" path="*.brail" type="System.Web.HttpForbiddenHandler"/>
        <add verb="*" path="*.brailjs" type="System.Web.HttpForbiddenHandler"/>

        <add verb="*" path="*.castle"
           type="Castle.MonoRail.Framework.MonoRailHttpHandlerFactory, Castle.MonoRail.Framework" />
      </httpHandlers>
    </system.web>
</configuration>

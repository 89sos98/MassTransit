<?xml version="1.0"?>

<configuration>

    <configSections>
      <section name="monorail"
               type="Castle.MonoRail.Framework.Configuration.MonoRailSectionHandler, Castle.MonoRail.Framework" />
      <section name="castle"
               type="Castle.Windsor.Configuration.AppDomain.CastleSectionHandler, Castle.Windsor" />
    </configSections>

    <monorail useWindsorIntegration="true">
      <viewEngine
          viewPathRoot="Views"
          customEngine="Castle.MonoRail.Views.Brail.BooViewEngine, Castle.MonoRail.Views.Brail" />
    </monorail>

    <castle>

      <!-- component and facilities configuration goes here -->
      <components>
        <component id="masstransit.subscription.endpoint">
          <parameters>
            <uriString>msmq://localhost/mt_pubsub</uriString>
          </parameters>
        </component>

        
        <component id="masstransit.subscription.client"
                   startable="true" startMethod="Start" stopMethod="Stop">
          <parameters>
            <subscriptionServiceEndpoint>${masstransit.subscription.endpoint}</subscriptionServiceEndpoint>
          </parameters>
        </component>


        <component id="masstransit.bus.listen">
          <parameters>
            <uriString>msmq://localhost/mt_dashboard</uriString>
          </parameters>
        </component>
        <component id="masstransit.bus">
          <parameters>
            <endpointToListenOn>${masstransit.bus.listen}</endpointToListenOn>
          </parameters>
        </component>
                   
        
      </components>

    </castle>

    <appSettings/>
    <connectionStrings/>
  
    <system.web>
        <compilation debug="false" />
        <authentication mode="Windows" />
      <httpModules>
        <add name="monorail" type="Castle.MonoRail.Framework.EngineContextModule, Castle.MonoRail.Framework" />
      </httpModules>
      <httpHandlers>
        <add verb="*" path="*.brail" type="System.Web.HttpForbiddenHandler"/>
        <add verb="*" path="*.brailjs" type="System.Web.HttpForbiddenHandler"/>

        <add verb="*" path="*.castle"
           type="Castle.MonoRail.Framework.MonoRailHttpHandlerFactory, Castle.MonoRail.Framework" />
      </httpHandlers>
    </system.web>
</configuration>
